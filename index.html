<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>PWA Test</title>

    <link rel="manifest" href="/clock/manifest.json">
    <style>
    html, body, .container, .indic {
        height: 100%;
    }
    p  {
      font-family: verdana;
      font-size: 300%;
    }
    .indic  {
      font-family: verdana;
      font-size: 100%;
    }
    body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: space-around;
        background-color: darkgray;
    }
    </style>
    <script>
if ("serviceWorker" in navigator) {
    window.addEventListener("load", function () {
        navigator.serviceWorker
            .register("/clock/serviceWorker.js")
            .then(res => console.log("service worker registered", res))
            .catch(err => console.log("service worker not registered", err))
    })
}   
    </script>
</head>
<body>
<main>
    <div class="container">     
    <center><div class="indic">Online</div></center>      
    <p>
    <span id="heure" class="container"></span>  
    </p>
    </div>
</main>
<script>
const myTimeout = setTimeout(myGreeting, 1000);
function myGreeting() {
    const da = new Date();
    let time = da.getTime();
    const h = new Date(time);
    document.getElementById("heure").innerHTML = h.getHours().toString().padStart(2,"0")+':'+h.getMinutes().toString().padStart(2,"0")+':'+h.getSeconds().toString().padStart(2,"0");
    setTimeout(myGreeting, 1000);
}
</script>
</body>
</html>
